<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Quizzes App</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/sketchy/bootstrap.min.css"
      integrity="sha512-y4F259NzBXkxhixXEuh574bj6TdXVeS6RX+2x9wezULTmAOSgWCm25a+6d0IQxAnbg+D4xIEJoll8piTADM5Gg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="shortcut icon" href="./images/quiz-logo.ico" />
    <link rel="stylesheet" href="./css/style.css" />
  </head>

  <body>
    <!-- App Header -->
    <header class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
      <div
        class="container-fluid d-flex justify-content-between align-items-center"
      >
        <!-- Logo + Title -->
        <a class="navbar-brand p-0 d-flex align-items-center gap-2" href="#">
          <img
            src="./images/quiz-logo.png"
            alt="Quiz app logo"
            width="40"
            height="40"
          />
          <h2 class="m-0 text-light">Quizzes App</h2>
        </a>

        <!-- Toggler for mobile nav collapse (optional) -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#topbar"
          aria-controls="topbar"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation + Auth Controls -->
        <div
          class="collapse navbar-collapse justify-content-end align-items-center"
          id="topbar"
        >
          <nav
            class="navbar-nav me-3 flex-row gap-2"
            id="main-nav"
            style="display: none"
          >
            <button class="btn btn-outline-light" id="nav-explore">
              Take Quiz
            </button>
            <button class="btn btn-outline-light" id="nav-my-quizzes">
              Quiz Management
            </button>
          </nav>

          <span id="user-greeting" class="me-3 text-light"></span>

          <button
            class="btn btn-outline-light me-2"
            id="header-login-button"
            style="display: none"
          >
            Log in
          </button>
          <button
            class="btn btn-outline-warning"
            id="header-logout-button"
            style="display: none"
          >
            Log out
          </button>
        </div>
      </div>
    </header>

    <!-- Main content sections follow here... -->
    <!-- login-register, quizzes, edit-quiz, etc. -->

    <h1>Quizzes List</h1>
    <hr />
    <p id="message"></p>
    <hr />
    <div id="login-register" style="display: none">
      <h2>Welcome! Please log in or register.</h2>
      <button type="button" id="login">login</button>
      <button type="button" id="register">register</button>
    </div>

    <div id="login-div" style="display: none">
      <h2>Log In</h2>
      <form id="login-form">
        <div>
          <label for="email">email:</label> <input type="email" id="email" />
        </div>
        <div>
          <label for="password">password:</label>
          <input type="password" id="password" />
        </div>
        <button type="submit" id="login-button">login</button>
        <button type="button" id="login-cancel">cancel</button>
      </form>
    </div>

    <div id="register-div" style="display: none">
      <h2>Register</h2>
      <form id="register-form">
        <div>
          <label for="name">name:</label> <input type="text" id="name" />
        </div>
        <div>
          <label for="register-email">email:</label>
          <input type="email" id="register-email" />
        </div>
        <div>
          <label for="register-password">password:</label>
          <input type="password" id="register-password" />
        </div>
        <div>
          <label for="verify-password">verify password:</label>
          <input type="password" id="verify-password" />
        </div>
        <button type="submit" id="register-button">register</button>
        <button type="button" id="register-cancel">cancel</button>
      </form>
    </div>

    <div id="quizzes" style="display: none">
      <h2>Quizzes</h2>
      <p id="quizzes-message"></p>

      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Subject</th>
            <th>Description</th>
            <th colspan="2"></th>
          </tr>
        </thead>
        <tbody id="quizzes-table-body">
          <!-- Quiz data rows will go here -->
        </tbody>
      </table>

      <button type="button" id="add-quiz">add quiz</button>
      <button type="button" id="logout">log out</button>
    </div>

    <div id="edit-quiz" style="display: none">
      <h2>Edit Quiz</h2>
      <form id="edit-quiz-form">
        <div>
          <label for="quiz-title">Title:</label>
          <input type="text" id="quiz-title" />
        </div>
        <div>
          <label for="quiz-description">Description:</label>
          <input type="text" id="quiz-description" />
        </div>
        <div>
          <label for="quiz-subject">Subject:</label>
          <select id="quiz-subject">
            <option value="" disabled selected>--Select subject--</option>
            <option value="Math">Math</option>
            <option value="Science">Science</option>
            <option value="History">History</option>
            <option value="Literature">Literature</option>
            <option value="Geography">Geography</option>
          </select>
        </div>
        <!--    TODO: Question and answer fields.
                    This part is complex due to the nested structure of the quiz model.
                    This functionality will be addressed later, potentially after 
                    the quiz model has been reorganized. -->
        <button type="submit" id="submit-quiz">Save</button>
        <button type="button" id="cancel-edit-quiz">Cancel</button>
      </form>
    </div>

    <script src="./js/index.js" type="module"></script>
  </body>
</html>
